#   重点车辆监管平台数据表设计

#### 业务介绍

重点车辆监管平台是管理机构，政府机构，运输企业等进行实时监管公路客运、旅游客运、危化品车、网约出租车等重点车辆的管控平台。主要的功能有基础信息管理、动态监督管理、车辆违法信息管理、人车分离管理、黑名单、安全教育培训管理、驾驶员培训资格等，有利于提高对违法企业、违法驾驶员和违法车辆的监管效率。

# 1. 基础信息管理

### 1.1 enterprise_info 企业信息表(ST_REGION)

| Name                        | Type        | Description                                                  | **Required** | default                                                      |
| --------------------------- | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id                          | bigint | 按指定方法生成，生成方法见下面说明                           | required     | 主键                                                         |
| enterprise_id               | text        | 企业外部编码，由golang程序生成的xid，暴露到外部使用          | required     | 联合主键                                                     |
| superior_enterprise_id | text | 上级企业ID | optional | 外键，引用上级企业的**enterprise_id** |
| enterprise_code             | text        | 企业码                                                       | required     |                                                              |
| enterprise_name             | text        | 企业名称                                                     | required     |                                                              |
| enterprise_level            | integer     | 企业级别                                                     | required     | 外键，,引用**企业级别**字典                                  |
| display_number             | integer     | 显示序号,用于显示企业列表时的排序                            | optional     |                                                              |
| contact_persons             | jsonb[]     | 联系人信息数组，依次为第一联系人，第二联系人...等，字段包括:<br />1.name 联系人姓名<br />2.mobile 联系人手机号<br />3.  telephone 联系人固定电话<br />4.email 联系人邮箱 | optional     |                                                              |
| enterprise_address          | text        | 企业地址                                                     | optional     |                                                              |
| business_scope              | integer     | 经营范围                                                     | optional     | 外键，引用**经营范围**字典                                   |
| fax_number                  | text        | 传真号码                                                     | optional     |                                                              |
| **province_id**                | text        | 省份ID                                                       | optional     | 外键，引用**省份表**province_id                              |
| **city_id**                    | text        | 城市ID                                                       | optional     | 外键，引用**城市表**city_id                                  |
| **district_id**                | text        | 区ID                                                         | optional     | 外键，引用**区域表**district_id                              |
| institution_category | integer     | 机构类别                                                     | optional     | 外键，引用 **机构类别**字典                                  |
| operating_license | text        | 经营许可证,云储存系统返回的路径                                        | optional     |                                                              |
| business_license | text | 营业执照,云储存系统返回的路径 | optional | |
| business_license_issuance_date | timestamptz | 营业执照发证日期                                             | optional     |                                                              |
| business_license_expiry_date | timestamptz | 营业执照到期日期 | optional | |
| enterprise_nature | integer     | 企业性质                                                     | optional     | 外键,引用**企业性质**字典                                    |
| legal_representative | text        | 企业法人代表                                                 | optional     |                                                              |
| legal_representative_phone | text        | 企业法人代表联系电话                                         | optional     |                                                              |
| legal_representative_id_card | text        | 企业法人代表身份证,云储存系统返回的路径                      | optional     |                                                              |
| legal_person_id_number      | text        | 企业法人身份证号                                             | optional     |                                                              |
| entrusted_agent | text        | 委托代理人                                                   | optional     |                                                              |
| entrusted_agent_phone | text        | 委托代理人联系电话                                           | optional     |                                                              |
| entrusted_agent_id_card | text        | 委托代理人身份证,云储存系统返回的路径                        | optional     |                                                              |
| agent_id_number             | text        | 委托代理人身份证号                                           | optional     |                                                              |
| organization_code           | text      | 组织机构代码(企业的营运证)                                   | optional     |                                                              |
| organization_code_certificate | text        | 组织机构代码证,云储存系统返回的路径                          | optional     |                                                              |
| update_time_in              | timestamptz | 内网更新时间                                                 | optional     |                                                              |
| business_pic                | text        | 业务办理扫描件,云储存系统返回的路径                                    | optional     |                                                    |
| is_black                    | boolean     | 是否黑名单                                                   | optional     |                                                              |
| high_speed_detachment | text        | 高速支队                                                 | optional     | 若有赋值，则代表该单位隶属的高速交警支队，目前只有值：11，字典描述为泉州高速公路支队。关联高速交警部门表ST_GSDEPT的SEQN。 |
| high_speed_brigade      | text        | 高速大队                                                     | optional     | 若有赋值，则代表该单位隶属的高速交警大队，关联高速交警部门表ST_GSDEPT的SEQN。 |
| high_speed_squadron | text        | 高速中队                                                     | optional     | 若有赋值，则代表该单位隶属的高速交警中队，关联高速交警部门表ST_GSDEPT的SEQN。 |
| traffic_police_level | integer | 高速交警级别 | optional | 外键,引用**高速交警级别**字典 |
| is_ride_hailing_driving_school | boolean     | 是否网约车驾校                                               | optional     | 网约车驾校也是属于3.运输企业的一种                           |
| is_ride_hailing_enterprise | boolean     | 是否网约车企业                                               | optional     |                                                              |
| is_expire          | boolean     | 是否试用期结束                                               | optional     | 用于限制网约车企业登录，如果false则不允许登陆，否则允许登陆。 |
| is_check                    | integer     | 审核状态                                           | optional     | 外键，引用**企业审核结果**字典，0表示审核通过，1表示待审核，2表示审核不通过 |
| is_install                  | boolean     | 是否安装                                                     | optional     |                                                              |
| is_input                    | boolean     | 是否录入完成                                                 | optional     |                                                              |
| brigade        | text        | 所属大队                                                     | optional     |                                                              |
| police_station         | text        | 所属派出所                                                   | optional     |                                                              |
| brigade_review_opinion | text        | 大队审核意见                                                 | optional     |                                                              |
| brigade_review_time | timestamptz | 大队审核时间                                                 | optional     |                                                              |
| brigade_review_by | text        | 大队审核人                                                   | optional     |                                                              |
| is_upload_province          | boolean     | 是否上传省厅                                                 | optional     |                                                              |
| score                       | integer     | 记分                                                         | optional     |                                                    |
| **slag_car_supplier_code** | text | 渣土车供应商编号 | optional | 当企业类型为渣土车供应商5时有作用，表示给与渣土车供应商的编号，如QZ001 |
| **slag_car_supplier_state** | integer     | 渣土车供应商状态                                               | optional     | 渣土车供应商的状态，0.正常 1.暂停受理 2.清退                 |
| association_review_opinion | text        | 协会审核意见                                                 | optional     |                                                              |
| association_review_time   | timestamptz | 协会审核时间                                                 | optional     |                                                              |
| association_review_by     | text        | 协会审核人员                                                 | optional     | 外键，引用**system_user表**的user_id                         |
| create_at                   | timestamptz | 创建时间                                                     | required     |                                                              |
| create_by                   | text        | 创建人                                                       | required     | 外键，引用system_user表的user_id                             |
| update_at                 | timestamptz | 修改时间                                                     | optional     |                                                              |
| update_by                 | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at                   | timestamptz | 删除时间                                                     | optional     |                                                              |
| delete_by                   | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| record_at                   | timestamptz | 登记时间                                                     | optional     |                                                              |
| record_by                   | text        | 登记人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| remarks | text | 备注 | optional |  |
| is_delete | boolean | 是否删除 | optional | false |

#### bigint主键ID生成方法

```json
# 参考链接，采用 Instagram 方案改进
https://rob.conery.io/2014/05/28/a-better-id-generator-for-postgresql/
# 生成都id将方便把数据同时插入多个数据库，以便PG分片和分布式部署时使用

create schema shard_1;
create sequence shard_1.global_id_sequence;

CREATE OR REPLACE FUNCTION shard_1.id_generator(OUT result bigint) AS $$
DECLARE
    our_epoch bigint := 1314220021721;
    seq_id bigint;
    now_millis bigint;
    -- the id of this DB shard, must be set for each
    -- schema shard you have - you could pass this as a parameter too
    shard_id int := 1;
BEGIN
    SELECT nextval('shard_1.global_id_sequence') % 1024 INTO seq_id;

    SELECT FLOOR(EXTRACT(EPOCH FROM clock_timestamp()) * 1000) INTO now_millis;
    result := (now_millis - our_epoch) << 23;
    result := result | (shard_id << 10);
    result := result | (seq_id);
END;
$$ LANGUAGE PLPGSQL;

select shard_1.id_generator();

# 运行该命令，会得到一个不错的，干净的bigint，可用于任何表的键

# 您可以通过以下方式声明用户表以使用此函数自动生成密钥
create table shard_1.users(
  id bigint not null default id_generator(),
  email varchar(255) not null unique,
  first varchar(50),
  last varchar(50)
)
```



### 1.2 vehicle_info 车辆信息表(VD_VEHICLE)

| Name                          | Type        | Description                                                  | **Required** | default                                                      |
| ----------------------------- | :---------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id                            | bigint      | 按指定方法生成                                               | required     | 主键                                                         |
| vehicle_id                    | text        | 车辆外部编码，由golang程序生成的xid，暴露到外部使用          | required     | 联合主键                                                     |
| license_plate_number          | text        | 车牌号                                                       | optional     |                                                              |
| license_plate_color           | integer     | 车牌颜色                                                     | optional     | 外键，，引用**车牌颜色**字典                                 |
| license_plate_type            | integer     | 号牌种类                                                     | optional     | 外键，引用**号牌种类**字典                                   |
| enterprise_id                 | text        | 所在企业id                                                   | optional     | 外键，引用**enterprise_info表**的enterprise_id               |
| department_id                 | text        | 所在部门id                                                   | optional     | 外键，引用**department 部门信息表**                          |
| vehicle_identification_number | text        | 车架号(后6位)                                                | optional     | 车辆识别代号vin,如D02133                                     |
| road_transport_license_number | text        | 道路运输证号                                                 | optional     |                                                              |
| vehicle_type                  | integer     | 车辆类型                                                     | optional     | 外键，引用**车辆类型**字典                                   |
| industry_category             | integer     | 行业类别                                                     | optional     | 外键，引用**行业类别**字典                                   |
| heavy                         | numeric     | 吨位                                                         | optional     |                                                              |
| seats                         | integer     | 座位                                                         | optional     |                                                              |
| operating_type                | integer     | 营运类型                                                     | optional     | 外键，引用**营运类型**字典                                   |
| operating_route               | text        | 营运线路                                                     | optional     |                                                              |
| business_scope                | integer     | 经营范围                                                     | optional     | 外键，引用**经营范围**字典                                   |
| vehicle_manager               | text        | 机动车管理人                                                 | optional     |                                                              |
| vehicle_manager_phone         | text        | 机动车管理人联系电话                                         | optional     |                                                              |
| vehicle_manager_id_card       | text        | 机动车管理人身份证                                           |              |                                                              |
| owner                         | text        | 机动车所有人（六合一）                                       | optional     |                                                              |
| inspection_date               | timestamptz | 检验日期（六合一）                                           | optional     |                                                              |
| retirement_date               | timestamptz | 报废日期（六合一）                                           | optional     |                                                              |
| use_nature                    | text        | 使用性质（六合一）                                           | optional     |                                                              |
| vehicle_state                 | integer     | 机动车状态                                                   | optional     | 外键，引用**车辆状态**字典                                   |
| update_time_in                | timestamptz | 内网更新时间                                                 | optional     |                                                              |
| remark_in                     | text        | 车辆信息同步内网反馈信息                                     | optional     | 车辆信息同步到公安内网后内网的反馈内容，如车牌号填写错误会反馈车辆号牌错误 |
| is_complete                   | boolean     | 是否完成                                                     | optional     | 用于标志车辆资料是否处于确定状态。未确定状态的车辆信息在系统上除车辆管理外的功能中都查不到 |
| driving_licensee_pic          | text        | 行驶证照片,云储存系统返回的路径                              | optional     |                                                              |
| is_active                     | boolean     | 是否激活                                                     | optional     |                                                              |
| is_input                      | boolean     | 是否录入完成                                                 | optional     |                                                              |
| car_rental_price              | numeric     | 租车标准价格                                                 | optional     |                                                              |
| insurance_company             | integer     | 投保公司                                                     | optional     | 外键，引用**投保公司**字典                                   |
| insurance_date                | timestamptz | 投保日期                                                     | optional     |                                                              |
| vehicle_maintenances          | jsonb[]     | 维保数据数组，字段包括: 1.maintenance_date 维保时间<br />2.maintenance<br />_kilometers 维保公里数 | optional     |                                                              |
| vehicle_displacement          | text        | 汽车排量                                                     | optional     |                                                              |
| vehicle_brand                 | integer     | 车辆品牌                                                     | optional     | 外键，引用**车辆品牌**字典                                   |
| quasi_driving_models          | integer     | 准驾车型                                                     | optional     | 外键，引用**准驾车型**字典                                   |
| is_upload_province            | boolean     | 是否上传省厅                                                 | optional     |                                                              |
| operating_state               | integer     | 营运状态                                                     | optional     | 外键，引用**营运状态**字典                                   |
| vehicle_type                  | text        | 车辆类型                                                     | optional     |                                                              |
| terminal_id                   | text        | 终端ID                                                       | optional     |                                                              |
| is_apply_install_terminal     | boolarn     | 是否申请安装智能终端                                         | optional     |                                                              |
| check_state                   | integer     | 校验状态                                                     | optional     | 外键，引用**车辆校验状态**字典                               |
| is_import                     | boolean     | 是否导入                                                     | optional     | 是否通过外部导入的网约车信息。                               |
| create_at                     | timestamptz | 创建时间                                                     | required     |                                                              |
| create_by                     | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id                         |
| update_at                     | timestamptz | 修改时间                                                     | optional     |                                                              |
| update_by                     | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at                     | timestamptz | 删除时间                                                     | optional     |                                                              |
| delete_by                     | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| record_at                     | timestamptz | 登记时间                                                     | optional     |                                                              |
| record_by                     | text        | 登记人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete                     | boolean     | 是否删除                                                     | optional     |                                                              |
| remarks                       | text        | 备注                                                         | optional     |                                                              |



### 1.3 driver_info 驾驶员信息表(VD_DRIVER)

录入驾驶员需要上传签名照片、身份证照片、驾驶员的正面照和驾驶员的手持身份证照片4张

| Name               | Type        | Description                                     | **Required** | default                                                      |
| ------------------ | ----------- | ----------------------------------------------- | ------------ | ------------------------------------------------------------ |
| id                 | bigint      | 按指定方法生成                                  | required     | 主键                                                         |
| driver_id          | text        | 外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| enterprise_id      | text        | 所在企业id                                      | optional     | 外键，引用**enterprise_info表**的enterprise_id               |
| department_id      | text        | 所在部门id                                      | optional     | 外键，引用**department 部门信息表**                          |
| driver_identity_id | text        | 驾驶员身份验证信息ID                            | optional     | 外键，引用 driver_identity表的driver_identity_id             |
| driver_name        | text        | 驾驶员姓名                                      | optional     |                                                              |
| telephone          | text        | 手机号码                                        | optional     |                                                              |
| sex                | integer     | 性别                                            | optional     | 外键，引用**性别**字典                                       |
| files_number       | text        | 档案编号(后6位)                                 | optional     |                                                              |
| contact_address    | text        | 联系地址                                        | optional     |                                                              |
| mailing_address    | text        | 邮寄地址                                        | optional     |                                                              |
| is_submit          | boolean     | 是否提交                                        | optional     | 用于标志驾驶员资料是否处于确定状态。未确定状态的驾驶员信息在系统上除驾驶员管理外的功能中都查不到。 |
| submit_content     | text        | 提交内容                                        | optional     |                                                              |
| submit_at          | timestamptz | 提交时间                                        | optional     |                                                              |
| submit_by          | text        | 提交人                                          | optional     | 外键，引用system_user表的user_id                             |
| is_manual_input    | boolean     | 是否手动录入                                    | optional     | 驾驶员资料分为使用身份证读卡器读取身份证自动录入资料和手动填写资料 |
| is_input           | boolean     | 是否录入                                        | optional     |                                                              |
| input_at           | timestamptz | 录入时间                                        | optional     |                                                              |
| input_by           | text        | 录入人                                          | optional     | 外键，引用**system_user表**的user_id                         |
| is_check_data      | boolean     | 是否校验数据                                    | optional     | 该字段代表是否用于校验驾驶员信息，未正式录入系统，但会同步到公安内容，用于查询驾驶员的违章数据。 |
| check_at           | timestamptz | 检验时间                                        | optional     |                                                              |
| check_by           | text        | 校验人                                          | optional     | 外键，引用**system_user表**的user_id                         |
| remark_in          | text        | 驾驶员信息同步内网反馈信息                      | optional     | 驾驶员信息同步内网反馈信息。驾驶员信息同步到公安内网后内网的反馈内容，如档案编号填写错误会反馈档案编号后六位不正确 |
| update_time_in     | timestamptz | 内网更新时间                                    | optional     |                                                              |
| is_check_sms       | boolean     | 是否通过短信验证                                | optional     |                                                              |
| is_black           | boolean     | 是否黑名单                                      | optional     |                                                              |
| create_at          | timestamptz | 创建时间                                        | required     |                                                              |
| create_by          | text        | 创建人                                          | required     | 外键，引用**system_user表**的user_id                         |
| update_at          | timestamptz | 修改时间                                        | optional     |                                                              |
| update_by          | text        | 修改人                                          | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at          | timestamptz | 删除时间                                        | optional     |                                                              |
| delete_by          | text        | 删除人                                          | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete          | boolean     | 是否删除                                        | optional     |                                                              |
| remarks            | text        | 备注                                            | optional     |                                                              |

### 1.4 driver_identity 驾驶员身份验证信息(各种证件信息，验证状态)

| Name                                 | Type        | Description                                     | **Required** | default                              |
| ------------------------------------ | ----------- | ----------------------------------------------- | ------------ | ------------------------------------ |
| id                                   | bigint      | 按指定方法生成                                  | required     | 主键                                 |
| identity_id                          | text        | 外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| id_card_num                          | text        | 身份证号码                                      | optional     |                                      |
| id_card_birthday                     | timestamptz | 身份证出生日期                                  | optional     |                                      |
| id_card_sign_government              | text        | 身份证签发机关                                  | optional     |                                      |
| id_card_nation                       | text        | 身份证民族                                      | optional     |                                      |
| id_card_start_date                   | timestamptz | 身份证有效起始日期                              | optional     |                                      |
| id_card_end_date                     | timestamptz | 身份证有效截止日期                              | optional     |                                      |
| id_card_front_pic                    | text        | 身份证正面照，云存储地址                        | optional     |                                      |
| id_card_back_pic                     | text        | 身份证背面照，云存储地址                        | optional     |                                      |
| id_card_address                      | text        | 身份证住址                                      | optional     |                                      |
| driver_holding_id_photo              | text        | 驾驶员手持身份证照片,云储存系统返回的路径       | optional     |                                      |
| driver_photo                         | text        | 驾驶员的正面照,云储存系统返回的路径             | optional     |                                      |
| driver_signature                     | text        | 驾驶员签名,云储存系统返回的路径                 | optional     |                                      |
| occupational_<br />number            | text        | 从业资格证号码                                  | optional     |                                      |
| occupational_expire_date             | timestamptz | 从业资格证有效期至                              | optional     |                                      |
| occupational_issuing_<br />authority | text        | 从业资格证发证机构                              | optional     |                                      |
| labor_contract                       | text[]      | 劳动合同,云储存系统返回的完整劳动合同的图片路径 | optional     |                                      |
| driver_license_pic                   | text        | 驾驶员驾驶证,云储存系统返回的路径               | optional     |                                      |
| driver_license_issuing_authority     | text        | 驾驶证发证机关                                  | optional     |                                      |
| annual_review_date                   | timestamptz | 年审日期（六合一）                              | optional     |                                      |
| renewal_date                         | timestamptz | 换证日期（六合一）                              | optional     |                                      |
| accumulatived_points                 | numeric     | 累计积分（六合一）                              | optional     |                                      |
| sorting_date                         | timestamptz | 清分日期（六合一）                              | optional     |                                      |
| quasi_driving_models                 | integer     | 准驾车型（六合一）                              | optional     | 外键，引用**准驾车型**字典           |
| driver_license_province_id           | text        | 驾驶证发证所在地的省份ID                        | optional     | 外键，引用省份表                     |
| driver_license_city_id               | text        | 驾驶证发证所在地的城市ID                        | optional     | 外键，引用城市表                     |
| driver_license_district_id           | text        | 驾驶证发证所在地的区域ID                        | optional     | 外键，引用区域表                     |
| driver_license_status                | integer     | 驾驶证状态                                      | optional     | 外键，引用**驾驶证状态**字典         |
| driver_license_issue_date            | timestamptz | 驾驶证初次领证日期                              | optional     |                                      |
| create_at                            | timestamptz | 创建时间                                        | required     |                                      |
| create_by                            | text        | 创建人                                          | required     | 外键，引用**system_user表**的user_id |
| update_at                            | timestamptz | 修改时间                                        | optional     |                                      |
| update_by                            | text        | 修改人                                          | optional     | 外键，引用**system_user表**的user_id |
| delete_at                            | timestamptz | 删除时间                                        | optional     |                                      |
| delete_by                            | text        | 删除人                                          | optional     | 外键，引用**system_user表**的user_id |
| is_delete                            | boolean     | 是否删除                                        | optional     |                                      |

### 1.5 system_user 用户信息表(ST_SYSUSER)

| Name                 | Type        | Description                                         | **Required** | default                                        |
| -------------------- | ----------- | --------------------------------------------------- | ------------ | ---------------------------------------------- |
| id                   | bigint      | 按指定方法生成                                      | required     | 主键                                           |
| user_id              | text        | 用户外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                       |
| password             | text        | 密码                                                | optional     |                                                |
| uername              | text        | 姓名                                                | optional     |                                                |
| enterprise_id        | text        | 所在企业id                                          | optional     | 外键，引用**enterprise_info表**的enterprise_id |
| grade                | integer     | 级别                                                | optional     | 外键，引用**系统用户级别**字典                 |
| department_id        | text        | 所在部门id                                          | optional     | 外键，引用**department表**的department_id      |
| audit_level          | integer     | 审核级别                                            | optional     | 外键，引用字典表                               |
| user_type            | integer     | 用户类型                                            | optional     | 外键，引用字典表                               |
| is_valid             | boolean     | 是否有效                                            | optional     |                                                |
| user_state           | integer     | 状态                                                | optional     | 外键，引用字典表                               |
| proxy_user           | text        | 代理用户                                            | optional     |                                                |
| ip_address           | text        | IP地址                                              | optional     |                                                |
| Is_bind_ip           | boolean     | 是否绑定IP                                          | optional     |                                                |
| email                | text        | 邮箱                                                | optional     |                                                |
| telephone            | text        | 联系电话                                            | optional     |                                                |
| mobile               | text        | 手机                                                | optional     |                                                |
| UKEY                 | text        | 加密串码                                            | optional     |                                                |
| MKEY                 | text        | 手机串码                                            | optional     |                                                |
| app_version          | text        | 客户端版本号                                        | optional     |                                                |
| wx_id                | text        | 微信id                                              | optional     |                                                |
| is_slag_car_platform | boolean     | 是否渣土车管控平台绑定账号                          | optional     |                                                |
| create_at            | timestamptz | 创建时间                                            | required     |                                                |
| create_by            | text        | 创建人                                              | required     | 外键，引用**system_user表**的user_id           |
| update_at            | timestamptz | 修改时间                                            | optional     |                                                |
| update_by            | text        | 修改人                                              | optional     | 外键，引用**system_user表**的user_id           |
| delete_at            | timestamptz | 删除时间                                            | optional     |                                                |
| delete_by            | text        | 删除人                                              | optional     | 外键，引用**system_user表**的user_id           |
| is_delete            | boolean     | 是否删除                                            | optional     |                                                |
| remarks              | text        | 备注                                                | optional     |                                                |

### 1.6 department 部门信息表(ST_DEPT)

| Name                   | Type        | Description                                         | **Required** | default                                        |
| ---------------------- | ----------- | --------------------------------------------------- | ------------ | ---------------------------------------------- |
| id                     | bigint      | 按指定方法生成                                      | required     | 主键                                           |
| department_id          | text        | 部门外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                       |
| enterprise_id          | text        | 所在企业id                                          | optional     | 外键，引用**enterprise_info表**的enterprise_id |
| superior_department_id | text        | 上级部门id                                          | optional     | 外键，引用上级部门的department_id              |
| department_name        | text        | 部门名称                                            | optional     |                                                |
| department_code        | text        | 部门编码                                            | optional     |                                                |
| department_category    | text        | 部门类别                                            | optional     |                                                |
| internal_number        | text        | 内部序号                                            | optional     |                                                |
| remark                 | text        | 备注                                                | optional     |                                                |
| is_delete              | boolean     | 是否删除                                            | optional     |                                                |
| create_at              | timestamptz | 创建时间                                            | required     |                                                |
| create_by              | text        | 创建人                                              | required     | 外键，引用**system_user表**的user_id           |
| update_at              | timestamptz | 修改时间                                            | optional     |                                                |
| update_by              | text        | 修改人                                              | optional     | 外键，引用**system_user表**的user_id           |
| delete_at              | timestamptz | 删除时间                                            | optional     |                                                |
| delete_by              | text        | 删除人                                              | optional     | 外键，引用**system_user表**的user_id           |

### 1.7 data_dirtionary_category  数据字典类型表,简单的字典保存在这儿，复杂的字典需要新建表保存

| Name                   | Type        | Description                                             | **Required** | default                              |
| ---------------------- | ----------- | ------------------------------------------------------- | ------------ | ------------------------------------ |
| id                     | bigint      | 按指定方法生成                                          | required     | 主键                                 |
| dirtionary_category_id | text        | 最新位置外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| category_name          | text        | 分类名称                                                | required     |                                      |
| category_code          | text        | 分类编号                                                | required     |                                      |
| remarks                | text        | 备注                                                    | optional     |                                      |
| create_at              | timestamptz | 创建时间                                                | required     |                                      |
| create_by              | text        | 创建人                                                  | required     | 外键，引用**system_user表**的user_id |
| update_at              | timestamptz | 修改时间                                                | optional     |                                      |
| update_by              | text        | 修改人                                                  | optional     | 外键，引用**system_user表**的user_id |
| delete_at              | timestamptz | 删除时间                                                | optional     |                                      |
| delete_by              | text        | 删除人                                                  | optional     | 外键，引用**system_user表**的user_id |
| is_delete              | boolean     | 是否删除                                                | optional     |                                      |



### 1.8 data_dirtionary  数据字典表(ST_DIC),简单的字典保存在这儿，复杂的字典需要新建表保存

| Name                   | Type        | Description                                             | **Required** | default                              |
| ---------------------- | ----------- | ------------------------------------------------------- | ------------ | ------------------------------------ |
| id                     | bigint      | 按指定方法生成                                          | required     | 主键                                 |
| dirtionary_id          | text        | 最新位置外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| dirtionary_category_id | text        | 字典类型ID                                              | required     |                                      |
| name                   | text        | 字典名称                                                | required     |                                      |
| value                  | integer     | 字典值                                                  | required     |                                      |
| remarks                | text        | 备注                                                    | optional     |                                      |
| create_at              | timestamptz | 创建时间                                                | required     |                                      |
| create_by              | text        | 创建人                                                  | required     | 外键，引用**system_user表**的user_id |
| update_at              | timestamptz | 修改时间                                                | optional     |                                      |
| update_by              | text        | 修改人                                                  | optional     | 外键，引用**system_user表**的user_id |
| delete_at              | timestamptz | 删除时间                                                | optional     |                                      |
| delete_by              | text        | 删除人                                                  | optional     | 外键，引用**system_user表**的user_id |
| is_delete              | boolean     | 是否删除                                                | optional     |                                      |



### 1.9 province_info  省份表



| Name        | Type        | Description                                             | **Required** | default                              |
| ----------- | ----------- | ------------------------------------------------------- | ------------ | ------------------------------------ |
| id          | bigint      | 按指定方法生成                                          | required     | 主键                                 |
| province_id | text        | 最新位置外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| name        | text        | 省份名称                                                | optional     |                                      |
| code        | text        | 省份编号                                                | optional     |                                      |
| remarks     | text        | 备注                                                    | optional     |                                      |
| create_at   | timestamptz | 创建时间                                                | required     |                                      |
| create_by   | text        | 创建人                                                  | required     | 外键，引用**system_user表**的user_id |
| update_by   | text        | 修改人                                                  | optional     | 外键，引用**system_user表**的user_id |
| delete_at   | timestamptz | 删除时间                                                | optional     |                                      |
| delete_by   | text        | 删除人                                                  | optional     | 外键，引用**system_user表**的user_id |
| is_delete   | boolean     | 是否删除                                                | optional     |                                      |

### 1.10 city_info  城市表



| Name        | Type        | Description                                             | **Required** | default                              |
| ----------- | ----------- | ------------------------------------------------------- | ------------ | ------------------------------------ |
| id          | bigint      | 按指定方法生成                                          | required     | 主键                                 |
| city_id     | text        | 最新位置外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| province_id | text        | 省份ID                                                  | optional     | 外键，引用省份表省份ID               |
| name        | text        | 城市名称                                                | optional     |                                      |
| code        | text        | 城市编号                                                | optional     |                                      |
| remarks     | text        | 备注                                                    | optional     |                                      |
| create_at   | timestamptz | 创建时间                                                | required     |                                      |
| create_by   | text        | 创建人                                                  | required     | 外键，引用**system_user表**的user_id |
| update_by   | text        | 修改人                                                  | optional     | 外键，引用**system_user表**的user_id |
| delete_at   | timestamptz | 删除时间                                                | optional     |                                      |
| delete_by   | text        | 删除人                                                  | optional     | 外键，引用**system_user表**的user_id |
| is_delete   | boolean     | 是否删除                                                | optional     |                                      |

### 1.11 district_info  区域表



| Name        | Type        | Description                                             | **Required** | default                              |
| ----------- | ----------- | ------------------------------------------------------- | ------------ | ------------------------------------ |
| id          | bigint      | 按指定方法生成                                          | required     | 主键                                 |
| district_id | text        | 最新位置外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| city_id     | text        | 城市ID                                                  | optional     | 外键，引用城市表城市ID               |
| name        | text        | 区域名称                                                | optional     |                                      |
| code        | text        | 区域编号                                                | optional     |                                      |
| remarks     | text        | 备注                                                    | optional     |                                      |
| create_at   | timestamptz | 创建时间                                                | required     |                                      |
| create_by   | text        | 创建人                                                  | required     | 外键，引用**system_user表**的user_id |
| update_by   | text        | 修改人                                                  | optional     | 外键，引用**system_user表**的user_id |
| delete_at   | timestamptz | 删除时间                                                | optional     |                                      |
| delete_by   | text        | 删除人                                                  | optional     | 外键，引用**system_user表**的user_id |
| is_delete   | boolean     | 是否删除                                                | optional     |                                      |

### 1.12 high_speed_police_dept 高速交警部门表(ST_GSDEPT)



| Name          | Type        | Description                                             | **Required** | default                              |
| ------------- | ----------- | ------------------------------------------------------- | ------------ | ------------------------------------ |
| id            | bigint      | 按指定方法生成                                          | required     | 主键                                 |
| dept_id       | text        | 最新位置外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| name          | text        | 部门名称                                                | optional     |                                      |
| super_dept_id | text        | 上级高速交警部门ID                                      | optional     |                                      |
| remarks       | text        | 备注                                                    | optional     |                                      |
| create_at     | timestamptz | 创建时间                                                | required     |                                      |
| create_by     | text        | 创建人                                                  | required     | 外键，引用**system_user表**的user_id |
| update_by     | text        | 修改人                                                  | optional     | 外键，引用**system_user表**的user_id |
| delete_at     | timestamptz | 删除时间                                                | optional     |                                      |
| delete_by     | text        | 删除人                                                  | optional     | 外键，引用**system_user表**的user_id |
| is_delete     | boolean     | 是否删除                                                | optional     |                                      |



# 2.动态监督管理

### 2.1 vehicle_location_latest最新车辆位置表(MON_LATEST_LOCATION)

| Name                  | Type        | Description                       | **Required** | default                                                      |
| --------------------- | ----------- | --------------------------------- | ------------ | ------------------------------------------------------------ |
| id                    | text        | 车辆ID                            | required     | 主键                                                         |
| driver_id             | text        | 驾驶员id                          | optional     | 外键，引用**driver_info 表**的driver_id                      |
| enterprise_id         | text        | 所在企业id                        | optional     | 外键，引用**enterprise_info表**的enterprise_id               |
| supervision_photo_id  | text        | 监控图片ID                        | optional     | 外键，关联vehicle_supervision_photo表的supervision_photo_id  |
| acceleration          | text        | 加速度                            | optional     |                                                              |
| alarm_content         | text        | 报警内容                          | optional     |                                                              |
| alititude             | text        | 海拔                              | optional     |                                                              |
| direction             | text        | 方向                              | optional     | 代表方向的度数，如东偏南67度                                 |
| tachograph_speed      | numeric     | 行驶记录仪速度                    | optional     |                                                              |
| is_locate             | boolean     | 是否定位                          | optional     |                                                              |
| locate_time           | timestamptz | 定位时间                          | optional     |                                                              |
| coordinate            | point       | 空间数据类型point表示经纬度       | optional     |                                                              |
| location_description  | text        | 位置描述                          | optional     | 位置描述是从经纬度数据库获取                                 |
| mileage               | text        | 里程                              | optional     |                                                              |
| gps_speed             | numeric     | GPS速度                           | optional     |                                                              |
| star_count            | text        | 星数                              | optional     | 目前暂未使用，预留存储GNSS定位卫星数。                       |
| star_status           | text        | 星况                              | optional     | 目前暂未使用，预留存储GNSS定位的搜星情况。                   |
| road_name             | text        | 道路名称                          | optional     |                                                              |
| speed_limit_threshold | numeric     | 限速阀值                          | optional     |                                                              |
| correct_coordinate    | point       | 空间数据类型point表示纠偏后经纬度 | optional     |                                                              |
| **status**            | text        | 车辆状态                          | optional     | 车辆终端的定位状态，如：ACC开；定位；前门开；GPS关；BD关；车辆解锁；示廊灯关；雾灯信号关；未倒车；未刹车；左转向关；右转向关；远光关；近光关；空挡信号关；空调状态关；喇叭关。 |
| **pid**               | text        | 实时所在区域                      | optional     | 用于存储该车辆当前的所属地区，如：30502是鲤城区。            |
| **imei**              | text        | 终端IMEI                          | optional     | 国际移动设备标识别码                                         |
| **sim_number**        | text        | SIM卡号                           | optional     |                                                              |

### 2.2 vehicle_location_his车辆位置历史表

| Name                  | Type        | Description                       | **Required** | default                                                      |
| --------------------- | ----------- | --------------------------------- | ------------ | ------------------------------------------------------------ |
| id                    | bigint      | 按指定方法生成                    | required     | 主键                                                         |
| vehicle_id            | text        | 车辆ID                            | required     | 外键，引用车辆表                                             |
| driver_id             | text        | 驾驶员id                          | optional     | 外键，引用**driver_info 表**的driver_id                      |
| enterprise_id         | text        | 所在企业id                        | optional     | 外键，引用**enterprise_info表**的enterprise_id               |
| supervision_photo_id  | text        | 监控图片ID                        | optional     | 外键，关联vehicle_supervision_photo表的supervision_photo_id  |
| acceleration          | text        | 加速度                            | optional     |                                                              |
| alarm_content         | text        | 报警内容                          | optional     |                                                              |
| alititude             | text        | 海拔                              | optional     |                                                              |
| direction             | text        | 方向                              | optional     | 代表方向的度数，如东偏南67度                                 |
| tachograph_speed      | numeric     | 行驶记录仪速度                    | optional     |                                                              |
| is_locate             | boolean     | 是否定位                          | optional     |                                                              |
| locate_time           | timestamptz | 定位时间                          | optional     |                                                              |
| coordinate            | point       | 空间数据类型point表示经纬度       | optional     |                                                              |
| location_description  | text        | 位置描述                          | optional     | 位置描述是从经纬度数据库获取                                 |
| mileage               | text        | 里程                              | optional     |                                                              |
| gps_speed             | numeric     | GPS速度                           | optional     |                                                              |
| star_count            | text        | 星数                              | optional     | 目前暂未使用，预留存储GNSS定位卫星数。                       |
| star_status           | text        | 星况                              | optional     | 目前暂未使用，预留存储GNSS定位的搜星情况。                   |
| road_name             | text        | 道路名称                          | optional     |                                                              |
| speed_limit_threshold | numeric     | 限速阀值                          | optional     |                                                              |
| correct_coordinate    | point       | 空间数据类型point表示纠偏后经纬度 | optional     |                                                              |
| **status**            | text        | 车辆状态                          | optional     | 车辆终端的定位状态，如：ACC开；定位；前门开；GPS关；BD关；车辆解锁；示廊灯关；雾灯信号关；未倒车；未刹车；左转向关；右转向关；远光关；近光关；空挡信号关；空调状态关；喇叭关。 |
| **pid**               | text        | 实时所在区域                      | optional     | 用于存储该车辆当前的所属地区，如：30502是鲤城区。            |
| **imei**              | text        | 终端IMEI                          | optional     | 国际移动设备标识别码                                         |
| **sim_number**        | text        | SIM卡号                           | optional     |                                                              |



### 2.3 vehicle_supervision_photo 车辆监控图片

| Name                       | Type        | Description                                             | **Required** | default                                        |
| -------------------------- | ----------- | ------------------------------------------------------- | ------------ | ---------------------------------------------- |
| id                         | bigint      | 按指定方法生成                                          | required     | 主键                                           |
| supervision_photo_id       | text        | 最新位置外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                       |
| vehicle_id                 | text        | 车辆ID                                                  | required     | 引用vehicle_info表vehicle_id                   |
| driver_id                  | text        | 驾驶员id                                                | optional     | 外键，引用**driver_info 表**的driver_id        |
| enterprise_id              | text        | 所在企业id                                              | optional     | 外键，引用**enterprise_info表**的enterprise_id |
| update_time                | timestamptz | 终端上报时间                                            | optional     |                                                |
| monitoring_pic             | text        | 监控图片地址                                            | optional     |                                                |
| monitoring_pic_upload_time | timestamptz | 监控图片上传时间                                        | optional     |                                                |
| **IMEI**                   | text        | 终端IMEI                                                | optional     | 国际移动设备标识别码                           |
| **SIM_number**             | text        | SIM卡号                                                 | optional     |                                                |

### 2.4 vehicle_alarm_data 车辆报警信息表(REPORT_ALARM_DATA)

| Name             | Type        | Description                                                  | **Required** | default                      |
| ---------------- | ----------- | ------------------------------------------------------------ | ------------ | ---------------------------- |
| id               | bigint      | 按指定方法生成                                               | required     | 主键                         |
| alarm_data_id    | text        | 车辆报警信息外部编码，由golang程序生成的xid，暴露到外部使用  | required     | 联合主键                     |
| vehicle_id       | text        | 车辆ID                                                       | required     | 引用vehicle_info表vehicle_id |
| pid              | text        | 所属区域ID                                                   | optional     |                              |
| speed            | numeric     | 车辆速度                                                     | optional     |                              |
| record_time      | timestamptz | 记录时间                                                     | optional     |                              |
| pos_desc         | text        | 位置描述                                                     | optional     |                              |
| coordinate       | point       | 空间数据类型point表示经纬度                                  | optional     |                              |
| driving_speed    | numeric     | 行车记录仪速度                                               | optional     |                              |
| dealing_status   | integer     | 处理状态(1.处理中 2.处理完毕 3.不作处理 4.将来处理)          | optional     | 字典，引用字典表             |
| user_id          | text        | 处理人                                                       | optional     |                              |
| deal_desc        | text        | 处理描述                                                     | optional     |                              |
| alarm_type       | integer     | 报警类型(001.超速报警 002.疲劳驾驶报警 066.凌晨2点到5点行驶报警) | optional     | 字典，引用字典表             |
| alarm_begin_time | timestamptz | 报警开始时间                                                 | optional     |                              |
| alarm_end_time   | timestamptz | 报警结束时间                                                 | optional     |                              |



### 2.5 dynamic_supervision 动态监管抽查主表(INFO_VEHICLE_GPS_MAIN)

| Name                    | Type        | Description                                                  | **Required** | default                              |
| ----------------------- | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------ |
| id                      | bigint      | 按指定方法生成                                               | required     | 主键                                 |
| supervision_id          | text        | 动态监管抽查主表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| spot_check_date         | timestamptz | 抽查日期                                                     | optional     |                                      |
| spot_check_total_number | integer     | 抽查总数                                                     | optional     |                                      |
| spot_check_number       | integer     | 抽查数量                                                     | optional     |                                      |
| spot_check_ratio        | numeric     | 抽查比例                                                     | optional     |                                      |
| check_user_id           | text        | 抽查人员                                                     | optional     | 引用**system_user表**的user_id       |
| total_number_vehicle    | integer     | 总车辆数                                                     | optional     |                                      |
| **province_id**         | text        | 抽查人员位置的省份ID                                         | optional     | 外键，引用省份表province_id          |
| **city_id**             | text        | 抽查人员位置的城市ID                                         | optional     | 外键，引用城市表city_id              |
| **district_id**         | text        | 抽查人员位置的区域ID                                         | optional     | 外键，引用区域表district_id          |
| year                    | integer     | 年                                                           | optional     |                                      |
| month                   | integer     | 月                                                           | optional     |                                      |
| day                     | integer     | 日                                                           | optional     |                                      |
| create_at               | timestamptz | 创建时间                                                     | required     |                                      |
| create_by               | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id |
| update_at               | timestamptz | 修改时间                                                     | optional     |                                      |
| update_by               | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id |
| delete_at               | timestamptz | 删除时间                                                     | optional     |                                      |
| delete_by               | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id |
| is_delete               | boolean     | 是否被删除                                                   | optional     |                                      |

### 2.6 dynamic_supervision_detail 动态监管抽查明细表(INFO_VEHICLE_GPS)

| Name                                 | Type        | Description                                                  | **Required** | default                                                      |
| ------------------------------------ | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id                                   | bigint      | 按指定方法生成                                               | required     | 主键                                                         |
| supervision_detail_id                | text        | 动态监管抽查明细表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| supervision_id                       | text        | 动态监管抽查主表的ID                                         | optional     | 外键，动态监管抽查主表**dynamic_supervision**的Isupervision_id |
| driver_id                            | text        | 驾驶员id                                                     | optional     | 外键，引用**driver_info 表**的driver_id                      |
| enterprise_id                        | text        | 车辆所在企业id                                               | optional     | 外键，引用**enterprise_info表**的enterprise_id               |
| vehicle_id                           | text        | 车辆id                                                       | optional     | 外键，引用**vehicle_info 表**的vehicle_id                    |
| monitoring_time                      | timestamptz | 监控平台时间                                                 | optional     |                                                              |
| monitoring_location                  | text        | 监控平台显示位置                                             | optional     |                                                              |
| is_online                            | boolean     | 是否在线（是/否）                                            | optional     |                                                              |
| is_tachograph_record_<br />normal    | boolean     | 行车记录仪数据（是否异常）                                   | optional     |                                                              |
| tachograph_data_<br />exception      | text        | 行车记录仪异常数据项                                         | optional     |                                                              |
| tachograph_speed                     | text        | 行车记录仪速度                                               | optional     |                                                              |
| GPS_speed                            | text        | 卫星定位速度                                                 | optional     |                                                              |
| is_speeding                          | boolean     | 是否超速（是/否）                                            | optional     |                                                              |
| taxi_state                           | integer     | 出租空/重车状态（空/重）                                     | optional     | 外键，引用**出租车空/重车状态**字典                          |
| is_fatigue_driving                   | boolean     | 客运疲劳驾驶（是/否）                                        | optional     |                                                              |
| is_morning_outage                    | boolean     | 客运凌晨2-5时停运（是/否）                                   | optional     |                                                              |
| curve                                | integer     | 曲线情况（曲线完整/回传异常/零速度）                         | optional     | 外键，引用**曲线情况**字典                                   |
| trail                                | integer     | 轨迹情况（正常/漂移/其他）                                   | optional     | 外键，引用**GPS轨迹情况**字典                                |
| lens_position                        | integer     | 镜头位置（正/偏）                                            | optional     | 外键，引用**镜头位置**字典                                   |
| equipment                            | integer     | 设备情况（图像正常/无图像/摄像头 号损坏）                    | optional     | 外键，引用**设备情况**字典                                   |
| other_infraction                     | text        | 其他违规                                                     | optional     |                                                              |
| disposal_measures                    | text        | 处置措施                                                     | optional     |                                                              |
| disposal_results                     | text        | 处置结果                                                     | optional     |                                                              |
| treatment_time                       | timestamptz | 处置时间                                                     | optional     |                                                              |
| assignee                             | text        | 受理人                                                       | optional     |                                                              |
| feedback_time                        | timestamptz | 反馈时间                                                     | optional     |                                                              |
| remarks                              | text        | 备注                                                         | optional     |                                                              |
| others                               | text        | 轨迹其他情况                                                 | optional     |                                                              |
| lens_on                              | text        | 摄像头损坏号                                                 | optional     |                                                              |
| monitor_end_time                     | timestamptz | 监管费到期时间                                               | optional     |                                                              |
| is_locate                            | boolean     | 是否定位                                                     | optional     |                                                              |
| coordinate                           | point       | 空间数据类型point表示经纬度                                  | optional     |                                                              |
| latitude_longitude_<br />description | text        | 经纬度描述                                                   | optional     |                                                              |
| is_send                              | boolean     | 是否发送                                                     | optional     |                                                              |
| business_scope                       | integer     | 经营范围                                                     | optional     | 外键，引用**经营范围**字典                                   |
| outage_alarm_time                    | timestamptz | 凌晨2点到5点停运报警时间                                     | optional     |                                                              |
| speed_alarm_time                     | timestamptz | 超速报警时间                                                 | optional     |                                                              |
| speeding_speed                       | text        | 超速速度                                                     | optional     |                                                              |
| fatigue_alarm_time                   | timestamptz | 疲劳驾驶报警时间                                             | optional     |                                                              |
| disposal_measures1                   | text        | 是否在线处置措施                                             | optional     |                                                              |
| disposal_measures2                   | text        | 是否超速处置措施                                             | optional     |                                                              |
| disposal_measures3                   | text        | 曲线情况处置措施                                             | optional     |                                                              |
| disposal_measures4                   | text        | 客运疲劳驾驶处置措施                                         | optional     |                                                              |
| disposal_measures5                   | text        | 客运凌晨停运处置措施                                         | optional     |                                                              |
| disposal_measures6                   | text        | 行车记录仪数据处置措施                                       | optional     |                                                              |
| disposal_measures7                   | text        | 轨迹情况处置措施                                             | optional     |                                                              |
| disposal_results1                    | text        | 是否在线处置结果                                             | optional     |                                                              |
| disposal_results2                    | text        | 是否超速处置结果                                             | optional     |                                                              |
| disposal_results3                    | text        | 曲线情况处置结果                                             | optional     |                                                              |
| disposal_results4                    | text        | 客运疲劳驾驶处置结果                                         | optional     |                                                              |
| disposal_results5                    | text        | 客运疲劳驾驶处置结果                                         | optional     |                                                              |
| disposal_results6                    | text        | 行车记录仪数据处置结果                                       | optional     |                                                              |
| disposal_results7                    | text        | 轨迹情况处置结果                                             | optional     |                                                              |
| create_at                            | timestamptz | 创建时间                                                     | required     |                                                              |
| create_by                            | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id                         |
| update_at                            | timestamptz | 修改时间                                                     | optional     |                                                              |
| update_by                            | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at                            | timestamptz | 删除时间                                                     | optional     |                                                              |
| delete_by                            | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete                            | boolean     | 是否被删除                                                   | optional     |                                                              |



### 2.7 vehicle_terminal_status  车辆终端达标情况表(MON_NEW_TERMINAL_CHECK)

| Name          | Type        | Description      | **Required** | default |
| ------------- | ----------- | ---------------- | ------------ | ------- |
| id            | text        | 终端ID           | required     | 主键    |
| record_time   | timestamptz | 记录时间         | optional     |         |
| acc           | text        | ACC状态          | optional     |         |
| brake         | text        | 制动信号(刹车)   | optional     |         |
| left_lamp     | text        | 左转向灯信号     | optional     |         |
| right_lamp    | text        | 右转向灯信号     | optional     |         |
| near_lamp     | text        | 近光灯信号       | optional     |         |
| far_lamp      | text        | 远光灯信号(大灯) | optional     |         |
| luod_speaker  | text        | 喇叭信号         | optional     |         |
| locate        | text        | 定位状态         | optional     |         |
| front_door    | text        | 前门             | optional     |         |
| GPS_open      | text        | GPS信号          | optional     |         |
| BD_open       | text        | 北斗信号         | optional     |         |
| camera        | text        | 摄像头           | optional     |         |
| driving_speed | text        | 车速             | optional     |         |
| remarks       | text        | 备注             | optional     |         |





# 3.交通违法信息管理

### 3.1 vehicle_violation_details 车辆违章明细表(VD_PECCANCY_DETAIL)

| Name                    | Type        | Description                                                 | **Required** | default                                                      |
| ----------------------- | ----------- | ----------------------------------------------------------- | ------------ | ------------------------------------------------------------ |
| id                      | bigint      | 按指定方法生成                                              | required     | 主键                                                         |
| violation_detail_id     | text        | 车辆违章明细外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| vehicle_id              | text        | 违章车辆id                                                  | optional     | 外键，引用**vehicle_info表**的vehicle_id                     |
| driver_id               | text        | 违章驾驶员id                                                | optional     | 外键，引用**driver_info表**的driver_id                       |
| enterprise_id           | text        | 所在企业id                                                  | optional     | 外键，引用**enterprise_info表**的enterprise_id               |
| illegal_code            | text        | 违法代码                                                    | optional     | 外键，引用**VIO_CODEWFDM** 违法描述字典表                    |
| illegal_time            | timestamptz | 违法时间                                                    | optional     |                                                              |
| illegal_handling_status | integer     | 违法处理状态                                                | optional     | 外键，引用**车辆违法处理状态**字典                           |
| illega_location         | text        | 违法地点                                                    | optional     |                                                              |
| standard_value          | text        | 标准值                                                      | optional     | 路段的限速阈值或核载的人数，根据违法的种类不同而不同。       |
| measured_value          | text        | 实测值                                                      | optional     | 车辆实际行驶的车速或实际载的人数，根据违法的种类不同而不同。 |
| discovery_agency        | text        | 发现机构                                                    | optional     |                                                              |
| illegal_photo           | text        | 违法照片                                                    | optional     |                                                              |
| is_notice_driver        | boolean     | 是否通知驾驶员                                              | optional     |                                                              |
| notice_time             | timestamptz | 通知时间                                                    | optional     |                                                              |
| decision_number         | text        | 决定书号                                                    | optional     |                                                              |
| payment_mark            | integer     | 缴款标记                                                    | optional     | 外键，引用**是否缴款**字典                                   |
| party_name              | text        | 当事人姓名                                                  | optional     |                                                              |
| information_source      | integer     | 信息来源：1，强制，2，非现场，0，简易                       | optional     | 外键，引用字典表                                             |
| vehicle_information     | text        | 驾驶人处理的交通违法记录对应的机动车信息                    | optional     |                                                              |
| update_time_in          | timestamptz | 内网更新时间                                                | optional     |                                                              |
| is_handle               | boolean     | 是否处理                                                    | optional     |                                                              |
| handle_by               | text        | 处理人                                                      | optional     | 外键，引用**system_user表**的user_id                         |
| handle_at               | timestamptz | 处理时间                                                    | optional     |                                                              |
| is_send                 | boolean     | 是否发送短信                                                | optional     |                                                              |
| create_at               | timestamptz | 创建时间                                                    | required     |                                                              |
| create_by               | text        | 创建人                                                      | required     | 外键，引用**system_user表**的user_id                         |
| update_at               | timestamptz | 修改时间                                                    | optional     |                                                              |
| update_by               | text        | 修改人                                                      | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at               | timestamptz | 删除时间                                                    | optional     |                                                              |
| delete_by               | text        | 删除人                                                      | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete               | boolean     | 是否删除                                                    | optional     |                                                              |



### 3.2 vehicle_violation_scoring_record  车辆违规计分记录		   (INFO_VEHICLESCORELOG)

| Name                      | Type        | Description                                                  | **Required** | default                                                      |
| ------------------------- | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id                        | bigint      | 按指定方法生成                                               | required     | 主键                                                         |
| violation_scoring_id      | text        | 车辆违规计分记录外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| vehicle_id                | text        | 扣分车辆id                                                   | optional     | 外键，引用**vehicle_info表**的vehicle_id                     |
| violation_scoring_item_id | text        | 扣分明细id                                                   | optional     | 外键,引用**vehicle_violation_<br />scoring_items**表的violation_scoring_item_id |
| demerit_points            | numeric     | 扣分分值                                                     | optional     |                                                              |
| remark                    | text        | 备注                                                         | optional     |                                                              |
| create_at                 | timestamptz | 创建时间                                                     | required     |                                                              |
| create_by                 | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id                         |
| update_at                 | timestamptz | 修改时间                                                     | optional     |                                                              |
| update_by                 | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at                 | timestamptz | 删除时间                                                     | optional     |                                                              |
| delete_by                 | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete                 | boolean     | 是否删除                                                     | optional     |                                                              |



### 3.3 vehicle_violation_scoring_items 车辆违规计分项表(INFO_VEHICLESCORESET)

| Name                       | Type        | Description                                                  | **Required** | default                              |
| -------------------------- | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------ |
| id                         | bigint      | 按指定方法生成                                               | required     | 主键                                 |
| violation_scoring_item_id  | text        | 车辆扣分明细表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| deduction_item_description | text        | 扣分事项描述                                                 | optional     |                                      |
| deduction_category         | integer     | 扣分事项类别                                                 | optional     | 外键，引用**车辆评分扣分类别**字典   |
| demerit_points             | numeric     | 扣分分值                                                     | optional     |                                      |
| create_at                  | timestamptz | 创建时间                                                     | required     |                                      |
| create_by                  | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id |
| update_at                  | timestamptz | 修改时间                                                     | optional     |                                      |
| update_by                  | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id |
| delete_at                  | timestamptz | 删除时间                                                     | optional     |                                      |
| delete_by                  | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id |
| is_delete                  | boolean     | 是否删除                                                     | optional     |                                      |



### 3.4 sms_remind_log 短信提醒日志表(SMS_REMIND_LOG)

| Name             | Type        | Description                                                  | **Required** | default                                |
| ---------------- | ----------- | ------------------------------------------------------------ | ------------ | -------------------------------------- |
| id               | bigint      | 按指定方法生成                                               | required     | 主键                                   |
| sms_log_id       | text        | 短信提醒日志表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                               |
| driver_id        | text        | 驾驶员id                                                     | optional     | 外键，引用**driver_info表**的driver_id |
| cellphone_number | text        | 手机号码                                                     | optional     |                                        |
| sms_content      | text        | 短信内容                                                     | optional     |                                        |
| is_send          | boolean     | 是否发送                                                     | optional     |                                        |
| sms_type         | integer     | 短信提醒类型                                                 | optional     | 外键，引用**短信提醒类型**字典         |
| create_at        | timestamptz | 创建时间                                                     | required     |                                        |
| create_by        | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id   |
| update_at        | timestamptz | 修改时间                                                     | optional     |                                        |
| update_by        | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id   |
| delete_at        | timestamptz | 删除时间                                                     | optional     |                                        |
| delete_by        | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id   |
| is_delete        | boolean     | 是否删除                                                     | optional     |                                        |

### 3.5 VIO_CODEWFDM 违法描述字典表(交警提供数据表，暂无修改)

##### 交警提供的数据表，交警只提供了部分字段的含义，没用到的字段交警未提供。

| Name     | Type    | Description  | **Required** | default |
| -------- | ------- | ------------ | ------------ | ------- |
| WFXW     | text    | 违法行为     | required     |         |
| WFMS     | text    | 违法描述     | optional     |         |
| WFJFS    | numeric | 违法计分数   | optional     |         |
| FKJE_MIN | numeric | 最小罚款金额 | optional     |         |
| FKJE_MAX | numeric | 最大罚款金额 | optional     |         |
| XH       | text    | 序号         | optional     |         |



### 3.6 regional_violation_register  区域处理机关交通违法违规登记表(WF_DEAL_REGEIT )

| Name                                 | Type        | Description                                                  | **Required** | default                                                      |
| ------------------------------------ | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id                                   | bigint      | 按指定方法生成                                               | required     | 主键                                                         |
| regional_violation_<br />register_id | text        | 区域处理机关交通违法违规登记表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| violation_detail_id                  | text        | 违法记录表ID                                                 | optional     | 外键，引用**vehicle_violation_<br />details**的violation_detail_id |
| vehicle_id                           | text        | 违章车辆id                                                   | optional     | 外键，引用**vehicle_info表**的vehicle_id                     |
| driver_id                            | text        | 驾驶员id                                                     | optional     | 外键，引用**driver_info 表**的driver_id                      |
| illegal_code                         | integer     | 违法代码                                                     | optional     | 外键，引用**VIO_CODEWFDM** 违法描述字典表                    |
| illegal_time                         | timestamptz | 违法时间                                                     | optional     |                                                              |
| illegal_type                         | integer     | 类型(1车辆2驾驶员)                                           | optional     | 外键,引用字典表                                              |
| register_time                        | timestamptz | 登记时间                                                     | optional     |                                                              |
| processing_agency                    | text        | 处理机关                                                     | optional     |                                                              |
| operator                             | text        | 操作员                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| is_register                          | boolean     | 类型(false未登记true已登记)                                  | optional     | fase                                                         |
| create_at                            | timestamptz | 创建时间                                                     | required     |                                                              |
| create_by                            | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id                         |
| update_at                            | timestamptz | 修改时间                                                     | optional     |                                                              |
| update_by                            | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at                            | timestamptz | 删除时间                                                     | optional     |                                                              |
| delete_by                            | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete                            | boolean     | 是否删除                                                     | optional     |                                                              |



### 3.7 dispute_violation_record 违章争议记录表(VD_PECCANCY_VRGUE)

| Name                          | Type        | Description                                                  | **Required** | default                                                      |
| ----------------------------- | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id                            | bigint      | 按指定方法生成                                               | required     | 主键                                                         |
| dispute_violation_id          | text        | 违章争议记录表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| violation_detail_id           | text        | 违章明细表id                                                 | optional     | 外键，引用**vehicle_violation_<br />details** 表的violation_detail_id |
| written_application_materials | text        | 书面申请材料                                                 | optional     |                                                              |
| labor_contract                | text        | 劳动合同或租赁合同                                           | optional     |                                                              |
| driving_log                   | text        | 行车日志                                                     | optional     |                                                              |
| witness                       | text        | 证人证言                                                     | optional     |                                                              |
| statement                     | text        | 当事人陈述                                                   | optional     |                                                              |
| pic_evidence                  | text        | 图像证据材料                                                 | optional     |                                                              |
| driver_license                | text        | 行为人驾驶证                                                 | optional     |                                                              |
| driving_license               | text        | 机动车行驶证                                                 | optional     |                                                              |
| id_card                       | text        | 行为人身份证                                                 | optional     |                                                              |
| business_license              | text        | 机动车所有人营业执照                                         | optional     |                                                              |
| organization_code             | text        | 机动车所有人组织机构代码证                                   | optional     |                                                              |
| legal_person_id_number        | text        | 法定代表人身份证                                             | optional     |                                                              |
| agent_id_number               | text        | 委托代理人身份证                                             | optional     |                                                              |
| vehicle_manager_id_card       | text        | 机动车管理人身份证                                           | optional     |                                                              |
| other_evidence                | text[]      | 其他证据材料                                                 | optional     |                                                              |
| approve_state                 | integer     | 审批状态                                                     | optional     | 外键，引用**车辆违法审批状态**字典                           |
| update_time_in                | timestamptz | 内网更新时间                                                 | optional     |                                                              |
| contact_address               | text        | 联系地址                                                     | optional     |                                                              |
| create_at                     | timestamptz | 创建时间                                                     | required     |                                                              |
| create_by                     | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id                         |
| update_at                     | timestamptz | 修改时间                                                     | optional     |                                                              |
| update_by                     | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at                     | timestamptz | 删除时间                                                     | optional     |                                                              |
| delete_by                     | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete                     | boolean     | 是否删除                                                     | optional     |                                                              |

### 3.8 dispute_violation_record_log 违章争议审批日志表(VD_PECCANCY_VRGUE_LOG )

| Name                     | Type        | Description                                                  | **Required** | default                                                      |
| ------------------------ | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id                       | bigint      | 按指定方法生成                                               | required     | 主键                                                         |
| dispute_violation_log_id | text        | 违章争议审批日志外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| dispute_violation_id     | text        | 违章争议记录表id                                             | optional     | 外键，引用**dispute_violation_<br />record**的dispute_violation_id |
| reviewer                 | text        | 审核人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| review_time              | timestamptz | 审核时间                                                     | optional     |                                                              |
| review_opinion           | text        | 审核意见                                                     | optional     |                                                              |
| review_result            | text        | 审核结果                                                     | optional     |                                                              |
| review_action_name       | text        | 审核动作名称                                                 | optional     |                                                              |
| approver                 | text        | 审批人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| update_time_in           | text        | 内网更新时间                                                 | optional     |                                                              |





# 4.人车分离管理

### 4.1 vehicle_driver_binding 车辆驾驶员绑定表(VD_VEH_DRV)

| Name                      | Type        | Description                                                  | **Required** | default                                  |
| ------------------------- | ----------- | ------------------------------------------------------------ | ------------ | ---------------------------------------- |
| id                        | bigint      | 按指定方法生成                                               | required     | 主键                                     |
| vehicle_driver_binding_id | text        | 车辆驾驶员绑定外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                 |
| driver_id                 | text        | 驾驶员id                                                     | optional     | 外键，引用**driver_info表**的driver_id   |
| vehicle_id                | text        | 车辆id                                                       | optional     | 外键，引用**vehicle_info表**的vehicle_id |
| remarks                   | text        | 备注                                                         | optional     |                                          |
| lease_contract            | text[]      | 租赁合同,,云储存系统返回的完整租赁合同的图片路径             | optional     |                                          |
| create_at                 | timestamptz | 创建时间                                                     | required     |                                          |
| create_by                 | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id     |
| update_at                 | timestamptz | 修改时间                                                     | optional     |                                          |
| update_by                 | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id     |
| delete_at                 | timestamptz | 删除时间                                                     | optional     |                                          |
| delete_by                 | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id     |
| is_delete                 | boolean     | 是否删除                                                     | optional     |                                          |



### 4.2 driving_log 行车日志表(VD_DRIVING_LOG)

| Name                     | Type        | Description                                             | **Required** | default                                  |
| ------------------------ | ----------- | ------------------------------------------------------- | ------------ | ---------------------------------------- |
| id                       | bigint      | 按指定方法生成                                          | required     | 主键                                     |
| driving_log_id           | text        | 行车日志外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                 |
| driver_id                | text        | 驾驶员id                                                | optional     | 外键，引用**driver_info表**的driver_id   |
| vehicle_id               | text        | 车辆id                                                  | optional     | 外键，引用**vehicle_info表**的vehicle_id |
| driving_start_time       | timestamptz | 用车起始日期                                            | optional     |                                          |
| driving_end_time         | timestamptz | 用车结束日期                                            | optional     |                                          |
| cause                    | text        | 事由                                                    | optional     |                                          |
| route                    | text        | 路线                                                    | optional     |                                          |
| remarks                  | text        | 备注                                                    | optional     |                                          |
| start_time               | timestamptz | 开始时间                                                | optional     |                                          |
| end_time                 | timestamptz | 结束时间                                                | optional     |                                          |
| check_state              | integer     | 审核状态                                                | optional     | 外键，引用**审核状态**字典               |
| check_organization_level | integer     | 审核机构级别                                            | optional     | 外键，引用字典未知？？                   |
| is_fill                  | boolean     | 是否补录                                                | optional     |                                          |
| register_at              | timestamptz | 登记时间                                                | optional     |                                          |
| register_by              | text        | 登记人                                                  | optional     | 外键，引用**system_user表**的user_id     |
| create_at                | timestamptz | 创建时间                                                | required     |                                          |
| create_by                | text        | 创建人                                                  | required     | 外键，引用**system_user表**的user_id     |
| update_at                | timestamptz | 修改时间                                                | optional     |                                          |
| update_by                | text        | 修改人                                                  | optional     | 外键，引用**system_user表**的user_id     |
| delete_at                | timestamptz | 删除时间                                                | optional     |                                          |
| delete_by                | text        | 删除人                                                  | optional     | 外键，引用**system_user表**的user_id     |
| is_delete                | boolean     | 是否删除                                                | optional     |                                          |





# 5. 黑名单

### 5.1 blacklist_operation_record   黑名单操作记录表(INFO_BLACKLISTLOG)

| Name           | Type        | Description                                                  | **Required** | default                                                      |
| -------------- | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| id             | bigint      | 按指定方法生成                                               | required     | 主键                                                         |
| record_id   | text        | 黑名单操作记录外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| v_seqn         | text        | 驾驶员ID或者企业ID或者车辆ID                                 | optional     |                                                              |
| blacklist_type | integer     | 黑名单类别                                                   | required     | 外键,引用**黑名单类别**字典，0代表驾驶员，1代表运输主体（运输企业），2代表车辆 |
| operate        | integer     | 操作类别                                                     | required     | 外键,引入**操作类别（扣分）**字典， 0代表移除黑名单，1代表加入黑名单 |
| remarks        | text        | 黑名单操作备注                                               | optional     |                                                              |
| create_at      | timestamptz | 创建时间                                                     | required     |                                                              |
| create_by      | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id                         |
| update_at      | timestamptz | 修改时间                                                     | optional     |                                                              |
| update_by      | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| delete_at      | timestamptz | 删除时间                                                     | optional     |                                                              |
| delete_by      | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                         |
| is_delete      | boolean     | 是否删除                                                     | optional     |                                                              |

# 6. 安全教育培训

### 6.1 education_training  教育培训主表(INFO_JJ_TRAIN)

| Name                  | Type        | Description                                                 | **Required** | default                              |
| --------------------- | ----------- | ----------------------------------------------------------- | ------------ | ------------------------------------ |
| id                    | bigint      | 按指定方法生成                                              | required     | 主键                                 |
| education_training_id | text        | 教育培训主表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| title                 | text        | 培训标题                                                    | required     |                                      |
| contents              | text        | 培训内容                                                    | optional     |                                      |
| video_address         | text        | 培训视频存放地址                                            | optional     |                                      |
| type                  | integer     | 类型                                                        | required     | 外键，引用字典表                     |
| create_at             | timestamptz | 上传时间                                                    | required     |                                      |
| create_by             | text        | 上传人员id                                                  | required     | 外键，引用**system_user表**的user_id |
| update_at             | timestamptz | 修改时间                                                    | optional     |                                      |
| update_by             | text        | 修改人                                                      | optional     | 外键，引用**system_user表**的user_id |
| delete_at             | timestamptz | 删除时间                                                    | optional     |                                      |
| delete_by             | text        | 删除人                                                      | optional     | 外键，引用**system_user表**的user_id |
| is_delete             | boolean     | 是否删除                                                    | optional     |                                      |

### 6.2 education_training_detail 教育培训明细表(INFO_JJ_TRAIN_DETAIL)

| Name                         | Type        | Description                                                  | **Required** | default                                                  |
| ---------------------------- | ----------- | ------------------------------------------------------------ | ------------ | -------------------------------------------------------- |
| id                           | bigint      | 按指定方法生成                                               | required     | 主键                                                     |
| education_training_detail_id | text        | 教育培训明细表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                 |
| enterprise_id                | text        | 企业id                                                       | optional     | 外键，引用**enterprise_info表**的enterprise_id           |
| education_training_id        | bigint      | 培训主表id                                                   | required     | 外键,引用**education_training**表的education_training_id |
| taining_time                 | numeric     | 培训时长                                                     | optional     |                                                          |
| police_upload_time           | timestamptz | 交警上传时间                                                 | required     |                                                          |
| police_uploader_id           | text        | 交警上传人员id                                               | required     | 外键，引用**system_user表**的user_id                     |
| business_upload_time         | timestamptz | 企业上传时间                                                 | required     |                                                          |
| business_uploader_id         | text        | 企业上传人员id                                               | required     | 外键，引用**system_user表**的user_id                     |
| all_driver_count             | integer     | 驾驶员总数                                                   | optional     |                                                          |
| trained_driver               | integer     | 已培训驾驶员                                                 | optional     |                                                          |
| is_received                  | boolean     | 是否接收                                                     | optional     | false                                                    |
| is_key_personnel             | boolean     | 是否重点人员                                                 | optional     | false                                                    |
| create_at                    | timestamptz | 创建时间                                                     | required     |                                                          |
| create_by                    | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id                     |
| update_at                    | timestamptz | 修改时间                                                     | optional     |                                                          |
| update_by                    | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id                     |
| delete_at                    | timestamptz | 删除时间                                                     | optional     |                                                          |
| delete_by                    | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id                     |
| is_delete                    | boolean     | 是否删除                                                     | optional     |                                                          |

### 6.3 training_driver_details  教育培训驾驶员明细表(INFO_JJ_TRAIN_DRV)

| Name                      | Type        | Description                                                  | **Required** | default                                |
| ------------------------- | ----------- | ------------------------------------------------------------ | ------------ | -------------------------------------- |
| id                        | bigint      | 按指定方法生成                                               | required     | 主键                                   |
| training_driver_detail_id | text        | 教育培训驾驶员明细表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                               |
| driver_id                 | text        | 驾驶员id                                                     | optional     | 外键，引用**driver_info表**的driver_id |
| is_key_personnel          | boolean     | 是否重点人员                                                 | optional     | false                                  |
| is_training_completed     | boolean     | 是否培训完成                                                 | optional     | false                                  |
| create_at                 | timestamptz | 创建时间                                                     | required     |                                        |
| create_by                 | text        | 创建人                                                       | required     | 外键，引用**system_user表**的user_id   |
| update_at                 | timestamptz | 修改时间                                                     | optional     |                                        |
| update_by                 | text        | 修改人                                                       | optional     | 外键，引用**system_user表**的user_id   |
| delete_at                 | timestamptz | 删除时间                                                     | optional     |                                        |
| delete_by                 | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id   |
| is_delete                 | boolean     | 是否删除                                                     | optional     |                                        |

### 6.4 enterprise_training   企业自行培训表(INFO_TRAIN)

| Name                   | Type        | Description                                                  | **Required** | default                                        |
| ---------------------- | ----------- | ------------------------------------------------------------ | ------------ | ---------------------------------------------- |
| id                     | bigint      | 按指定方法生成                                               | required     | 主键                                           |
| enterprise_training_id | text        | 企业自行培训表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                       |
| enterprise_id          | text        | 所在企业id                                                   | optional     | 外键，引用**enterprise_info表**的enterprise_id |
| training_time          | numeric     | 培训时长                                                     | optional     |                                                |
| video_address          | text        | 培训视频存放地址                                             | optional     |                                                |
| title                  | text        | 标题                                                         | optional     |                                                |
| contents               | text        | 内容                                                         | optional     |                                                |
| create_at              | timestamptz | 上传时间                                                     | required     |                                                |
| create_by              | bigint      | 上传人员                                                     | required     | 外键，引用**system_user表**的user_id           |
| update_at              | timestamptz | 编辑时间                                                     | optional     |                                                |
| update_by              | bigint      | 编辑人员id                                                   | optional     | 外键，引用**system_user表**的user_id           |
| delete_at              | timestamptz | 删除时间                                                     | optional     |                                                |
| delete_by              | text        | 删除人                                                       | optional     | 外键，引用**system_user表**的user_id           |
| is_delete              | boolean     | 是否删除                                                     | optional     |                                                |

### 6.5 training_time 培训时长表(INFO_RG_TRAIN_DETAIL)

| Name                               | Type        | Description                                               | **Required** | default                                                      |
| ---------------------------------- | ----------- | --------------------------------------------------------- | ------------ | ------------------------------------------------------------ |
| id                                 | bigint      | 按指定方法生成                                            | required     | 主键                                                         |
| training_time_id                   | text        | 培训时长表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                     |
| education_training_<br />detail_id | text        | 教育培训明细表id                                          | optional     | 外键,引用教育培训明细表**education_training<br />_detail**表的education_training_detail_id |
| start_time                         | timestamptz | 培训开始时间                                              | optional     |                                                              |
| end_time                           | timestamptz | 培训结束时间                                              | optional     |                                                              |
| training_time                      | numeric     | 培训时长                                                  | optional     |                                                              |

### 6.6 training_driver_study_details 教育培训驾驶员学习明细表(   INFO_RG_T RAIN_DRV)

| Name                   | Type        | Description                                                  | **Required** | default                                |
| ---------------------- | ----------- | ------------------------------------------------------------ | ------------ | -------------------------------------- |
| id                     | bigint      | 按指定方法生成                                               | required     | 主键                                   |
| driver_study_detail_id | text        | 教育培训驾驶员学习明细表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                               |
| driver_id              | text        | 驾驶员id                                                     | optional     | 外键，引用**driver_info表**的driver_id |
| sign_in_time           | timestamptz | 签到时间                                                     | required     |                                        |
| sign_in_pic            | text        | 签退照片上传到云存储系统里，该字段保存图片路径               | required     |                                        |
| sign_out_time          | timestamptz | 签退时间                                                     | required     |                                        |
| sign_out_pic           | text        | 签退照片上传到云存储系统里，该字段保存图片路径               | required     |                                        |
| is_training_completed  | boolean     | 是否完成培训                                                 | optional     | false                                  |

### 6.7 education_training_materials 教育培训材料表(INFO_UPLOAD_FILEDETAIL)

| Name                  | Type        | Description                                                  | **Required** | default                              |
| --------------------- | ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------ |
| id                    | bigint      | 按指定方法生成                                               | required     | 主键                                 |
| training_materials_id | text        | 教育培训材料表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                             |
| file_name             | text        | 文件名称                                                     | optional     |                                      |
| file_type             | text        | 文件类型                                                     | optional     |                                      |
| file_size             | text        | 文件大小                                                     | optional     |                                      |
| db_file_name          | text        | 保存数据库的文件名称                                         | optional     |                                      |
| uploader              | text        | 文件上传人                                                   | required     | 外键，引用**system_user表**的user_id |
| upload_time           | timestamptz | 上传时间                                                     | required     |                                      |



# 7. 驾驶员资格培训

### 7.1 ride_hailing_driver 网约车驾驶员表(MON_ONLINE_DRIVER_CHECK)

| Name                          | Type        | Description                                                  | **Required** | default                                                   |
| ----------------------------- | ----------- | ------------------------------------------------------------ | ------------ | --------------------------------------------------------- |
| id                            | bigint      | 按指定方法生成                                               | required     | 主键                                                      |
| ride_hailing_driver_id        | text        | 网约车驾驶员表外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键                                                  |
| ride_hailing_driver_verify_id | text        | 网约车驾驶员审核表ID                                         | optional     | 外键，引用网约车驾驶员审核表ride_hailing_driver_verify_id |
| driver_name                   | text        | 驾驶员姓名                                                   | required     |                                                           |
| phone_number                  | text        | 联系电话                                                     | required     |                                                           |
| id_number                     | text        | 驾驶员身份证号                                               | required     |                                                           |
| sex                           | integer     | 性别                                                         | optional     | 外键，引用**性别**字典                                    |
| birthday                      | date        | 出生日期                                                     | optional     |                                                           |
| nation                        | text        | 民族                                                         | optional     |                                                           |
| sign_gov                      | text        | 发证机构                                                     | required     |                                                           |
| id_address                    | text        | 身份证住址                                                   | optional     |                                                           |
| start_valid_date              | date        | 有效期起始日期                                               | optional     |                                                           |
| end_valid_date                | date        | 有效期截止日期                                               | optional     |                                                           |
| idcard_pic                    | text        | 身份证图片存放路径                                           | required     |                                                           |
| quasi_driving_models          | integer     | 准驾车型                                                     | optional     | 外键，引用**准驾车型**字典                                |
| driver_school_id              | bigint      | 所在驾校id                                                   | required     | 外键                                                      |
| first_time_received_date      | date        | 初次领驾驶证日期                                             | optional     |                                                           |
| signnature                    | text        | 签名                                                         | required     |                                                           |
| handle_id_pic                 | text        | 手持身份证照片存放路径                                       | required     |                                                           |
| current_address               | text        | 现居住地址                                                   | optional     |                                                           |
| qualification_number          | text        | 资格证号                                                     | required     |                                                           |
| is_ former_driver             | boolean     | 是否旧驾驶员                                                 | optional     | false                                                     |
| check_station                 | integer     | 审核状态，外键引用方式                                       | required     | 外键,引用**审核状态**字典                                 |
| update_time_in                | timestamptz | 内网更新时间                                                 | required     |                                                           |
| record_time                   | timestamptz | 记录时间                                                     | required     |                                                           |
| record_person_id              | text        | 记录人员id                                                   | required     | 外键，引用**system_user表**的user_id                      |
| update_time                   | timestamptz | 更新时间                                                     | optional     |                                                           |
| update_person_id              | text        | 更新人员id                                                   | optional     | 外键，引用**system_user表**的user_id                      |
| user_id                       | text        | 操作员id                                                     | required     | 外键，引用**system_user表**的user_id                      |
| remarks                       | text        | 备注                                                         | optional     |                                                           |



### 7.2 ride_hailing_driver_verify 网约车驾驶员审核表

| Name                   | Type   | Description                                                  | **Required** | default  |
| ---------------------- | ------ | ------------------------------------------------------------ | ------------ | -------- |
| id                     | bigint | 按指定方法生成                                               | required     | 主键     |
| ride_hailing_driver_verify_id | text   | 外部编码，由golang程序生成的xid，暴露到外部使用 | required     | 联合主键 |
| is_violent_crime                     | boolean     | 是否有暴力犯罪记录（刑侦支队）                               | required     | false                                |
| violent_crime_remark                 | text        | 刑侦支队审核备注                                             | optional     |                                      |
| violent_crime_examine_time           | timestamptz | 刑侦支队审核时间                                             | required     |                                      |
| is_drug_history                      | boolean     | 是否有吸毒记录（禁毒支队）                                   | required     | false                                |
| drug_history_remark                  | text        | 禁毒支队审核备注                                             | optional     |                                      |
| drug_history_examine_time            | timestamptz | 禁毒支队审核时间                                             | required     |                                      |
| is_three_years_driving_experience    | boolean     | 是否满足三年驾龄（驾管大队）                                 | required     | false                                |
| driving_experience_remark            | text        | 驾管大队审核备注                                             | optional     |                                      |
| driving_experience_examine_time      | timestamptz | 驾管大队审核时间                                             | required     |                                      |
| is_three_cycle_twelve                | boolean     | 是否最近连续三个记分周期内没有记满12分（驾管大队）           | required     | false                                |
| is_ traffic_accident _escape_record  | boolean     | 是否有交通肇事犯罪记录（事故大队）                           | required     | false                                |
| traffic_accident_escape_remark       | text        | 事故大队审核备注                                             | optional     |                                      |
| traffic_accident_escape_examine_time | timestamptz | 事故大队审核时间                                             | required     |                                      |
| is_drunk_drug_driving                | boolean     | 是否有酒驾毒驾记录(秩序大队)                                 | required     | false                                |
| drunk_drug_driving_remark            | text        | 秩序大队审核备注                                             | optional     |                                      |
| drunk_drug_driving_examine_time      | timestamptz | 秩序大队审核时间                                             | required     |                                      |
| is_pass_driving_exam                 | boolean     | 是否通过考试(交通局审)                                       | required     | false                                |
| drivint_exam_time                    | timestamptz | 交通局考试认定时间                                           | optional     |                                      |
| record_time | timestamptz | 记录时间 | required | |
| record_person_id | text | 记录人员id | required | 外键，引用**system_user表**的user_id |
| update_time | timestamptz | 更新时间 | optional |  |
| update_person_id | text | 更新人员id | optional | 外键，引用**system_user表**的user_id |
